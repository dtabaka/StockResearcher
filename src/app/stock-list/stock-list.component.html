<ng-container *ngIf="stocks.length; else noData">
    <div style="font-family: 'Poppins'; font-size: 18pt; color: #313233">S&P 500</div>
    <!-- <ul>
        <li *ngFor="let stock of stocks">
            {{ stock.ticker }}: {{ stock.rating  }}
        </li>
    </ul> -->

    <div style="display: flex; justify-content: flex-start; align-items: center;">

        <div>
            <ngx-charts-pie-chart
                [view]="view"
                [results]="pieChartDataRatings"
                [scheme]="colorScheme"
                [labels]="showLabels"
                [legend]="false"
                [doughnut]="doughnut"
                [explodeSlices]="explodeSlices"
                [gradient]="gradient"
                (select)="onSliceClick($event)">
            </ngx-charts-pie-chart>
        </div>
        <div>
            <ngx-charts-pie-chart
                [view]="view"
                [results]="pieChartDataSector"
                [scheme]="colorScheme"
                [labels]="showLabels"
                [doughnut]="doughnut"
                [explodeSlices]="explodeSlices"
                [gradient]="gradient"
                (select)="onSliceClick($event)">
            </ngx-charts-pie-chart>
        </div>
        <div>
            <ngx-charts-pie-chart
                [view]="view"
                [results]="pieChartDataDividend"
                [scheme]="colorScheme"
                [labels]="showLabels"
                [doughnut]="doughnut"
                [explodeSlices]="explodeSlices"
                [gradient]="gradient"
                (select)="onSliceClick($event)">
            </ngx-charts-pie-chart>
        </div>

    </div>
    <div>
        <ag-grid-angular
            style="width: 90%; height: 500px;"
            [theme]="theme" 
            [rowData]="stocks"
            [columnDefs]="colDefs">
        </ag-grid-angular>
    </div>

</ng-container>

<ng-template #noData>
    <p>No stock data available.</p>
</ng-template>